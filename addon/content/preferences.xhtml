<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<vbox
  id="zotero-prefpane-__addonRef__"
  onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window })"
>
  <groupbox>
    <label><html:h2 data-l10n-id="pref-title"></html:h2></label>
    <hbox align="center">
      <html:label for="mineru-parse-token" data-l10n-id="pref-token" />
      <html:input type="password" id="mineru-parse-token" />
    </hbox>
    <hbox align="center">
      <checkbox id="mineru-parse-auto-parse" data-l10n-id="pref-auto-parse" />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-model-version"
        data-l10n-id="pref-model-version"
      />
      <menulist id="mineru-parse-model-version">
        <menupopup>
          <menuitem label="pipeline" value="pipeline" />
          <menuitem label="vlm" value="vlm" />
        </menupopup>
      </menulist>
    </hbox>
    <hbox align="center">
      <checkbox id="mineru-parse-is-ocr" data-l10n-id="pref-is-ocr" />
      <checkbox
        id="mineru-parse-enable-formula"
        data-l10n-id="pref-enable-formula"
      />
      <checkbox
        id="mineru-parse-enable-table"
        data-l10n-id="pref-enable-table"
      />
    </hbox>
    <hbox align="center">
      <html:label for="mineru-parse-language" data-l10n-id="pref-language" />
      <html:input type="text" id="mineru-parse-language" />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-page-ranges"
        data-l10n-id="pref-page-ranges"
      />
      <html:input type="text" id="mineru-parse-page-ranges" />
    </hbox>
    <hbox align="center">
      <html:label for="mineru-parse-cache-dir" data-l10n-id="pref-cache-dir" />
      <html:input type="text" id="mineru-parse-cache-dir" />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-poll-interval"
        data-l10n-id="pref-poll-interval"
      />
      <html:input type="number" id="mineru-parse-poll-interval" />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-poll-timeout"
        data-l10n-id="pref-poll-timeout"
      />
      <html:input type="number" id="mineru-parse-poll-timeout" />
    </hbox>
  </groupbox>
  <groupbox>
    <label><html:h2 data-l10n-id="pref-shortcut-title"></html:h2></label>
    <hbox align="center">
      <html:label data-l10n-id="pref-shortcut-label" />
      <html:input
        type="text"
        id="mineru-parse-shortcut"
        readonly="readonly"
        style="width: 200px; cursor: pointer"
      />
      <button
        id="mineru-parse-shortcut-clear"
        data-l10n-id="pref-shortcut-clear"
      />
    </hbox>
    <html:p
      style="font-size: 0.85em; opacity: 0.7"
      data-l10n-id="pref-shortcut-hint"
    />
    <hbox align="center">
      <html:label
        for="mineru-parse-shortcut-import"
        data-l10n-id="pref-shortcut-import-label"
      />
      <html:input
        type="text"
        id="mineru-parse-shortcut-import"
        readonly="readonly"
        style="width: 200px; cursor: pointer"
      />
      <button
        id="mineru-parse-shortcut-import-clear"
        data-l10n-id="pref-shortcut-clear"
      />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-shortcut-ai"
        data-l10n-id="pref-shortcut-ai-label"
      />
      <html:input
        type="text"
        id="mineru-parse-shortcut-ai"
        readonly="readonly"
        style="width: 200px; cursor: pointer"
      />
      <button
        id="mineru-parse-shortcut-ai-clear"
        data-l10n-id="pref-shortcut-clear"
      />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-import-folder"
        data-l10n-id="pref-import-folder"
      />
      <html:input type="text" id="mineru-parse-import-folder" style="flex: 1" />
    </hbox>
  </groupbox>
  <groupbox>
    <label><html:h2 data-l10n-id="pref-ai-group"></html:h2></label>
    <hbox align="center">
      <html:label
        for="mineru-parse-ai-base-url"
        data-l10n-id="pref-ai-base-url"
      />
      <html:input
        type="text"
        id="mineru-parse-ai-base-url"
        placeholder="https://api.openai.com/v1"
      />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-ai-api-key"
        data-l10n-id="pref-ai-api-key"
      />
      <html:input type="password" id="mineru-parse-ai-api-key" />
    </hbox>
    <hbox align="center">
      <html:label for="mineru-parse-ai-model" data-l10n-id="pref-ai-model" />
      <html:input type="text" id="mineru-parse-ai-model" placeholder="gpt-4o" />
    </hbox>
    <vbox>
      <hbox align="center">
        <html:label data-l10n-id="pref-ai-prompt-template" />
        <menulist id="mineru-parse-ai-prompt-template">
          <menupopup />
        </menulist>
        <button
          id="mineru-parse-ai-apply-template"
          data-l10n-id="pref-ai-apply-template"
        />
      </hbox>
      <hbox align="center">
        <button
          id="mineru-parse-ai-save-template"
          data-l10n-id="pref-ai-save-template"
        />
        <button
          id="mineru-parse-ai-new-template"
          data-l10n-id="pref-ai-new-template"
        />
        <button
          id="mineru-parse-ai-delete-template"
          data-l10n-id="pref-ai-delete-template"
        />
        <button
          id="mineru-parse-ai-reset-templates"
          data-l10n-id="pref-ai-reset-templates"
        />
      </hbox>
      <html:label
        for="mineru-parse-ai-system-prompt"
        data-l10n-id="pref-ai-system-prompt"
      />
      <html:textarea
        id="mineru-parse-ai-system-prompt"
        rows="5"
      ></html:textarea>
      <html:p
        style="font-size: 0.85em; opacity: 0.7"
        data-l10n-id="pref-ai-prompt-help"
      />
    </vbox>
  </groupbox>
  <groupbox>
    <label><html:h2 data-l10n-id="pref-translate-group"></html:h2></label>
    <hbox align="center">
      <html:label
        for="mineru-parse-translate-model"
        data-l10n-id="pref-translate-model"
      />
      <html:input
        type="text"
        id="mineru-parse-translate-model"
        placeholder="gpt-4o-mini"
      />
    </hbox>
    <hbox align="center">
      <html:label
        for="mineru-parse-translate-target-lang"
        data-l10n-id="pref-translate-target-lang"
      />
      <html:input
        type="text"
        id="mineru-parse-translate-target-lang"
        placeholder="English"
      />
    </hbox>
    <vbox>
      <html:label
        for="mineru-parse-translate-system-prompt"
        data-l10n-id="pref-translate-system-prompt"
      />
      <html:textarea
        id="mineru-parse-translate-system-prompt"
        rows="4"
      ></html:textarea>
      <html:p
        style="font-size: 0.85em; opacity: 0.7"
        data-l10n-id="pref-translate-prompt-help"
      />
    </vbox>
  </groupbox>
  <vbox>
    <html:label
      data-l10n-id="pref-help"
      data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'
    />
  </vbox>
</vbox>
